import{_ as g,T as I,S as v}from"./index-24b5c249.js";import{_ as x,a as y,b as k}from"./bank-step3-gray-2926e711.js";import{r as _,o as a,a as l,b as s,d as i,w as m,e as n,L as p,K as c,C as w,f as S}from"./calendar.esm-ab6b2a00.js";const L="/starcreated-cms/assets/bank-step1-a7b1e893.svg",M="/starcreated-cms/assets/approve-step2-0fac3fa2.svg",b="https://stage.westar-cms.com/v1/withdraw/info",C={name:"MemberCashInfo",props:{cashId:{type:String}},components:{TopHeader:I,Sidebar:v},data(){return{cashState:"String",cashStateVal:"0",memberListInfo:[],memberInfo:{cashId:"",cashState:""}}},mounted(){this.getMembers()},methods:{getMembers(){const e=this.$route.params.cashId;this.$http.get(b+`?cashId=${e}`).then(o=>{this.memberListInfo=o.data.data,this.memberInfo=this.memberListInfo,this.memberInfo.cashId=this.$route.params.cashId,console.log(o.data.data)})},passMember(){const e=this;e.isLoading=!0,e.memberInfo.cashId=this.$route.params.cashId,e.memberInfo.cashState="處理中",this.$http.post(b,{cashId:e.memberInfo.cashId,cashState:e.memberInfo.cashState}).then(o=>{console.log(o.data.result)})},unPassMember(){const e=this;e.isLoading=!0,e.memberInfo.cashId=this.$route.params.cashId,e.memberInfo.cashState="提領失敗",this.$http.post(b,{cashId:e.memberInfo.cashId,cashState:e.memberInfo.cashState}).then(o=>{this.$swal({title:"未通過",icon:"warning",showConfirmButton:!1,timer:1500}),console.log(o.data.result)})},passMemberCash(){const e=this;e.memberInfo.cashId=this.$route.params.cashId,e.memberInfo.cashState="提領成功",this.$http.post(b,{cashId:e.memberInfo.cashId,cashState:e.memberInfo.cashState}).then(o=>{this.$swal({title:"狀態更新成功",icon:"success",showConfirmButton:!1,timer:1500}),console.log(o.data.result)})}}},N={class:"wrapper"},j={class:"page-content-wrapper"},T={class:"container-fluid"},V={class:"row"},B={class:"container"},H={class:"bg-light pt-2 pb-2 rounded","aria-label":"breadcrumb"},F={class:"breadcrumb d-flex align-items-center mb-0 px-2"},P=s("li",{class:"breadcrumb-item active","aria-current":"page"}," 提領狀態 ",-1),z={class:"d-flex justify-content-between align-items-center mb-2 mt-4"},A=s("h2",{class:"text-primary fs-3 fw-bold"},"提領狀態",-1),D={class:"list-unstyled d-flex justify-content-center align-items-center align-self-center fw-bold"},E=s("li",{class:"text-primary"},[s("span",null,[s("img",{class:"me-1",src:L,alt:"bank-step1"})]),n(" 審核中 "),s("i",{class:"bi bi-chevron-right me-2"})],-1),K={key:0,class:"text-primary"},q=s("span",null,[s("img",{class:"me-1",src:M,alt:"bank-step2"})],-1),G=s("i",{class:"bi bi-chevron-right me-2"},null,-1),J={key:1,class:"text-gray"},O=s("span",null,[s("img",{class:"me-1",src:x,alt:"bank-step2"})],-1),Q=s("i",{class:"bi bi-chevron-right me-2"},null,-1),R={key:2,class:"text-primary"},U=s("span",null,[s("img",{class:"me-1",src:y,alt:"bank-step3"})],-1),W={key:3,class:"text-gray"},X=s("span",null,[s("img",{class:"me-1",src:k,alt:"bank-step3"})],-1),Y={key:0,class:"alert bg-success mt-4 mb-4 text-dark fw-medium",role:"alert"},Z=S('<p> *需累計達<span class="text-danger">NT$500</span>可提領狀態，最高提領金額為<span class="text-danger">NT$19,999</span></p><p> *限<span class="text-danger">7</span>天提領1次，提領後於<span class="text-danger">5</span>個工作天內入帳 </p><p> *僅提供中國信託商業銀行帳戶免手續費，其他銀行將收取15元手續費 </p><p class="text-danger">*提領認證須年滿16歲!</p>',4),$=[Z],ss={key:1,class:"alert bg-danger mt-4 mb-4 pb-0 text-light fw-medium",role:"alert"},ts=s("p",null,[s("i",{class:"bi bi-exclamation-triangle-fill me-2"}),n(" 提領失敗! ")],-1),es=[ts],os={key:2,class:"alert bg-success mt-4 mb-4 pb-0 text-dark fw-medium",role:"alert"},as=s("p",null,[s("i",{class:"bi bi-check-circle-fill me-2"}),n("提領成功!")],-1),ls=[as],ns={class:"mb-4"},cs={class:"fs-6 border border-1 rounded-4 pt-4"},is={class:"d-flex align-items-center align-items-sm-start pb-4 flex-column flex-lg-row p-2"},rs={class:"col-12 col-lg-4 mb-2"},ds={class:"d-flex"},ms=s("label",{for:"userName",class:"col-auto col-form-label me-2 ms-1"},"暱稱",-1),bs=["value"],hs={class:"col-12 col-lg-4 mb-2"},_s={class:"d-flex"},ps=s("label",{for:"starNumber",class:"col-auto col-form-label me-2 ms-1"},"星行號",-1),us=["value"],fs=s("div",{class:"col-12 col-lg-4 mb-2"},[s("div",{class:"d-flex"},[s("label",{for:"specificSizeSelect",class:"col-auto col-form-label me-2 ms-1"},"實名認證"),s("input",{type:"text",class:"form-control",value:"已認證",disabled:""})])],-1),gs={class:""},Is=s("div",{class:"d-flex justify-content-between align-items-center mb-2"},[s("div",null,[s("h2",{class:"text-secondary mt-4 fs-5 fw-bold"},"訂單確認")])],-1),vs={class:"table-responsive"},xs={class:"table table-bordered align-middle"},ys=s("thead",{class:"table-primary"},[s("tr",null,[s("th",{scope:"col"},"提領單號"),s("th",{scope:"col"},"申請日期"),s("th",{scope:"col"},"提領人"),s("th",{scope:"col"},"提領金額"),s("th",{scope:"col"},"手續費"),s("th",{scope:"col"},"實際可提領金額")])],-1),ks={class:"table-group-divider"},ws=s("div",{class:"d-flex justify-content-between align-items-center mb-2"},[s("div",null,[s("h2",{class:"text-primary mt-4 fs-6 fw-bold"},"提領資訊")])],-1),Ss={class:"table-responsive"},Ls={class:"table table-bordered align-middle"},Ms=s("thead",{class:"table-primary"},[s("tr",null,[s("th",{scope:"col"},"銀行代號"),s("th",{scope:"col"},"提領銀行"),s("th",{scope:"col"},"提領帳號")])],-1),Cs={class:"table-group-divider"},Ns={class:"col-12 mt-4"},js={key:0,class:"d-flex justify-content-center flex-column flex-lg-row"},Ts={key:1,class:"d-flex justify-content-center flex-column flex-lg-row"},Vs=s("button",{type:"button",class:"btn btn-danger mb-2","data-bs-toggle":"modal","data-bs-target":"#delModal"}," 轉帳失敗 ",-1),Bs={key:2,class:"d-flex justify-content-center flex-column flex-lg-row"},Hs={class:"modal fade",id:"delModal",tabindex:"-1","aria-labelledby":"delModalLabel","aria-hidden":"true"},Fs={class:"modal-dialog"},Ps={class:"modal-content"},zs=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"delModalLabel"},"審核失敗"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),As=s("div",{class:"modal-body text-center"},[s("p",null,"點確認按鈕後狀態會改為審核失敗"),s("p",null,"請務必確認資料是否正確!")],-1),Ds={class:"modal-footer d-flex justify-content-center"},Es=s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," 取消 ",-1);function Ks(e,o,qs,Gs,t,r){const u=_("Sidebar"),f=_("TopHeader"),d=_("router-link");return a(),l(w,null,[s("div",N,[i(u),s("div",j,[s("div",T,[s("div",V,[s("section",B,[i(f),s("nav",H,[s("ol",F,[i(d,{to:"/dshboard",class:"breadcrumb-item"},{default:m(()=>[n("首頁")]),_:1}),i(d,{to:"/member-control",class:"breadcrumb-item"},{default:m(()=>[n("會員管理")]),_:1}),i(d,{to:"/member-cash",class:"breadcrumb-item"},{default:m(()=>[n("提領狀態列表")]),_:1}),P])]),s("div",z,[A,s("ul",D,[E,t.memberListInfo.cashState==="處理中"||t.memberListInfo.cashState==="提領成功"||t.memberListInfo.cashState==="提領失敗"?(a(),l("li",K,[q,n("處理中 "),G])):(a(),l("li",J,[O,n("處理中 "),Q])),t.memberListInfo.cashState==="提領成功"?(a(),l("li",R,[U,n("提領成功 ")])):(a(),l("li",W,[X,n("提領成功 ")]))])]),t.memberListInfo.cashState==="審核中"||t.memberListInfo.cashState==="處理中"?(a(),l("div",Y,$)):p("",!0),t.memberListInfo.cashState==="提領失敗"?(a(),l("div",ss,es)):p("",!0),t.memberListInfo.cashState==="提領成功"?(a(),l("div",os,ls)):p("",!0),s("div",ns,[s("form",cs,[s("div",is,[s("div",rs,[s("div",ds,[ms,s("input",{type:"text",id:"userName",class:"form-control","aria-describedby":"passwordHelpInline",value:t.memberListInfo.nickname,disabled:""},null,8,bs)])]),s("div",hs,[s("div",_s,[ps,s("input",{type:"text",id:"starNumber",class:"form-control","aria-describedby":"passwordHelpInline",value:t.memberListInfo.userAppId,disabled:""},null,8,us)])]),fs])])]),s("div",gs,[Is,s("div",vs,[s("table",xs,[ys,s("tbody",ks,[s("tr",null,[s("td",null,c(t.memberListInfo.cashId),1),s("td",null,c(t.memberListInfo.date),1),s("td",null,c(t.memberListInfo.userName),1),s("td",null,c(t.memberListInfo.cashMoney),1),s("td",null,c(t.memberListInfo.cashFee),1),s("td",null,c(t.memberListInfo.cashMoney-t.memberListInfo.cashFee),1)])])])]),ws,s("div",Ss,[s("table",Ls,[Ms,s("tbody",Cs,[s("tr",null,[s("td",null,c(t.memberListInfo.bankNo),1),s("td",null,c(t.memberListInfo.bankName),1),s("td",null,c(t.memberListInfo.bankId),1)])])])])]),s("div",Ns,[t.memberListInfo.cashState==="審核中"?(a(),l("div",js,[s("button",{type:"button",class:"btn btn-primary text-light mb-2 me-2","data-bs-toggle":"modal","data-bs-target":"#viewTaskModal",onClick:o[0]||(o[0]=h=>r.passMember())}," 審核通過"),s("button",{type:"button",class:"btn btn-danger mb-2","data-bs-toggle":"modal","data-bs-target":"#delModal",onClick:o[1]||(o[1]=h=>r.unPassMember())}," 未通過 ")])):t.memberListInfo.cashState==="處理中"?(a(),l("div",Ts,[s("button",{type:"button",class:"btn btn-primary text-light mb-2 me-2",onClick:o[2]||(o[2]=h=>r.passMemberCash())}," 確定轉帳"),Vs])):(a(),l("div",Bs,[i(d,{to:"/member-cash",class:"btn btn-primary text-light mb-2"},{default:m(()=>[n(" 返回 ")]),_:1})]))])])])])])]),s("div",Hs,[s("div",Fs,[s("div",Ps,[zs,As,s("div",Ds,[Es,s("button",{type:"button",class:"btn btn-primary text-white","data-bs-dismiss":"modal",onClick:o[3]||(o[3]=h=>r.unPassMember())}," 確認 ")])])])])],64)}const Rs=g(C,[["render",Ks]]);export{Rs as default};
