import{_ as S,T as w,S as I}from"./index-24b5c249.js";import{I as y,r as h,o,a as n,d as p,b as e,w as c,x as _,y as P,K as r,L as m,O as f,C as L,M as C,c as k,e as u,B as N}from"./calendar.esm-ab6b2a00.js";const V="https://stage.westar-cms.com/v1/realname",A={name:"CheckIdView",components:{TopHeader:w,Sidebar:I,paginate:y},data(){return{products:null,idLists:[],customers:null,selectedIdType:"",selectedState:"all",filteredList:[],statusText:{review:"未認證",finish:"已認證",fail:"認證失敗"},userAppId:"",realNameState:"",isSearched:!1,isError:!1,errorMessage:"",currentPage:1,perPage:60,paginatedData:[],realNameId:this.$route.params.realNameId}},mounted(){this.getMembers(),this.onStateChange()},computed:{pageCount(){return Math.ceil(this.filteredList.length/this.perPage)},displayedItems(){const t=(this.currentPage-1)*this.perPage;return this.filteredList.slice(t,t+this.perPage)}},methods:{async getMembers(){const t=await this.$http.get(V);this.idLists=t.data.data.realNameList,this.filteredList=this.idLists,this.updatePaginatedData(),console.log(this.filteredList),console.log(this.idLists)},onStateChange(){this.filteredList=this.selectedState==="all"?this.idLists:this.idLists.filter(t=>t.realNameState===this.selectedState),console.log(this.filteredList)},searchUser(){this.isSearched=!0,this.userAppId||this.realNameState?this.filteredList=this.idLists.filter(t=>(!this.userAppId||t.userAppId===this.userAppId)&&(!this.realNameState||t.realNameState===this.realNameState)):this.filteredList=[]},limitInput(){const t=this.userAppId.length;t<10?(this.isError=!0,this.errorMessage="請至少輸入10位數字!"):t>10?(this.isError=!0,this.errorMessage="不能輸入超過10位數字!"):this.isError=!1},reloadPage(){window.location.reload()},updatePaginatedData(){const t=(this.currentPage-1)*this.perPage,l=t+this.perPage;this.paginatedData=this.filteredList.slice(t,l)},onPageChange(t){this.currentPage=t,this.updatePaginatedData(),console.log(t)},async showDetail(t){this.realNameId=this.$refs.id,this.realNameIdClick=this.$refs.id,this.$router.push({name:"CheckIdInfoView",params:{realNameId:t,id:t}}),console.log(t)}}},D={class:"wrapper"},M={class:"page-content-wrapper"},T={class:"container-fluid"},E={class:"row"},U={class:"col-lg-12"},B={class:"bg-light pt-2 pb-2 rounded","aria-label":"breadcrumb"},j={class:"breadcrumb d-flex align-items-center mb-0 px-2"},z=e("li",{class:"breadcrumb-item active","aria-current":"page"}," 實名認證列表 ",-1),H=e("div",null,[e("h2",{class:"text-primary mt-4 fs-3 fw-bold"},"實名認證")],-1),F=e("div",{class:"alert bg-success mt-4 mb-4 pb-0 text-dark fw-medium",role:"alert"},[e("p",null," 第一次提領需要完成實名認證，請審核人員在點選通過審核前務必再次確認是否完成實名認證。 ")],-1),K=e("div",null,[e("h2",{class:"text-primary mt-4 fs-5 fw-bold"},"搜尋會員")],-1),O={class:"mb-4"},q={class:"fs-6 border border-1 rounded-4 pt-4"},G={class:"d-flex align-items-center align-items-sm-start pb-4 flex-column flex-lg-row p-2"},J={class:"col-12 col-lg-4 mb-2"},Q={class:"d-flex"},R=e("label",{for:"userAppId",class:"col-auto col-form-label me-2 ms-1"},"星行號",-1),W={key:0,class:"text-danger text-end"},X={class:"col-12 col-lg-4 mb-2"},Y={class:"d-flex"},Z=e("label",{for:"specificSizeSelect",class:"col-auto col-form-label me-2 ms-1"},"實名認證",-1),$=e("option",{disabled:"",value:"",class:"text-gray-500"}," 選擇類型 ",-1),ee=e("option",{value:"finish"},"已認證",-1),te=e("option",{value:"review"},"未認證",-1),se=e("option",{value:"fail"},"認證失敗",-1),ie=[$,ee,te,se],le={class:"col-12 d-flex justify-content-center mb-4"},ae={class:""},oe={class:"d-flex justify-content-between align-items-center mb-2"},re=e("div",null,[e("h2",{class:"text-primary mt-4 fs-5 fw-bold"},"實名認證")],-1),ne={class:"d-flex align-items-center;"},ce={class:"row g-3 align-items-center"},de=e("div",{class:"col-auto"},[e("label",{for:"inputType",class:"col-form-label"},"實名認證")],-1),he={class:"col-auto"},pe=["value"],ue=e("option",{value:"all"},"所有類型",-1),_e=e("option",{value:"finish"},"已認證",-1),me=e("option",{value:"review"},"未認證",-1),ge=e("option",{value:"fail"},"認證失敗",-1),fe=[ue,_e,me,ge],be={class:"table-responsive"},ve={class:"table table-bordered align-middle"},xe=e("thead",{class:"table-primary"},[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"申請日期"),e("th",{scope:"col"},"星行號"),e("th",{scope:"col"},"實名認證"),e("th",{scope:"col"},"操作")])],-1),Se={class:"table-group-divider"},we={scope:"row"},Ie={id:"cash-state"},ye=["onClick","id"],Pe=e("i",{class:"bi bi-eye-fill"},null,-1),Le={key:0,class:"text-center h4 fs-bold mt-4 mb-4 text-primary"},Ce=e("p",null,[e("i",{class:"bi bi-binoculars"}),u(" 找不到結果，麻煩您重新再輸入一次 ! ")],-1),ke={class:"d-flex justify-content-center flex-column flex-lg-row"},Ne=e("span",{class:"pagination-label"},"Prev",-1),Ve=e("span",{class:"pagination-label"},"Next",-1);function Ae(t,l,De,Me,i,a){const b=h("Sidebar"),v=h("TopHeader"),g=h("router-link"),x=h("paginate");return o(),n("div",D,[p(b),e("div",M,[e("div",T,[e("div",E,[e("section",U,[p(v),e("nav",B,[e("ol",j,[p(g,{to:"/dshboard",class:"breadcrumb-item"},{default:c(()=>[u("首頁")]),_:1}),p(g,{to:"/member-control",class:"breadcrumb-item"},{default:c(()=>[u("會員管理")]),_:1}),z])]),H,F,K,e("div",O,[e("form",q,[e("div",G,[e("div",J,[e("div",Q,[R,_(e("input",{type:"text",id:"userAppId",class:"form-control",placeholder:"1234567890","onUpdate:modelValue":l[0]||(l[0]=s=>i.userAppId=s),onInput:l[1]||(l[1]=(...s)=>a.limitInput&&a.limitInput(...s))},null,544),[[P,i.userAppId]])]),i.isError?(o(),n("div",W,r(i.errorMessage),1)):m("",!0)]),e("div",X,[e("div",Y,[Z,_(e("select",{class:"form-select",id:"specificSizeSelect","onUpdate:modelValue":l[2]||(l[2]=s=>i.realNameState=s)},ie,512),[[f,i.realNameState]])])])]),e("div",le,[e("button",{type:"button",class:"btn btn-primary text-white mx-2","data-bs-dismiss":"modal",onClick:l[3]||(l[3]=s=>a.searchUser())}," 搜尋 ")])])]),e("div",ae,[e("div",oe,[re,e("div",ne,[e("div",ce,[de,e("div",he,[_(e("select",{"onUpdate:modelValue":l[4]||(l[4]=s=>i.selectedState=s),onChange:l[5]||(l[5]=(...s)=>a.onStateChange&&a.onStateChange(...s)),class:"form-select","aria-label":"Default select example",value:i.selectedState===""?null:i.selectedState},fe,40,pe),[[f,i.selectedState]])])])])]),e("div",be,[e("table",ve,[xe,e("tbody",Se,[(o(!0),n(L,null,C(i.filteredList,(s,d)=>(o(),n("tr",{key:d},[e("th",we,r(d+1),1),e("td",null,r(s.date),1),e("td",null,r(s.userAppId),1),e("td",null,r(i.statusText[s.realNameState]),1),e("td",Ie,[e("button",{onClick:Te=>a.showDetail(s.realNameId),id:s.realNameId,class:"btn btn-info text-light mb-2"},[Pe,u("檢視 ")],8,ye)])]))),128))])])]),!i.filteredList.length&&i.isSearched?(o(),n("div",Le,[Ce,e("div",ke,[e("button",{class:"btn btn-primary text-light mb-2",onClick:l[6]||(l[6]=s=>a.reloadPage())}," 重新搜尋 ")])])):m("",!0),i.currentPage===1?(o(),k(x,{key:1,modelValue:i.currentPage,"onUpdate:modelValue":l[7]||(l[7]=s=>i.currentPage=s),total:i.filteredList.length,perPage:i.perPage,"page-count":a.pageCount,"click-handler":a.onPageChange,"prev-text":"上一頁","next-text":"下一頁","container-class":"pagination d-flex justify-content-center"},{"prev-label":c(()=>[Ne]),"next-label":c(()=>[Ve]),page:c(({page:s,isCurrent:d})=>[e("div",{class:N(["pagination-item",{"pagination-item--active":d}])},r(s),3)]),_:1},8,["modelValue","total","perPage","page-count","click-handler"])):m("",!0)])])])])])])}const Be=S(A,[["render",Ae]]);export{Be as default};
