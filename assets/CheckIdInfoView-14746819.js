import{_ as x,T as w,S as D}from"./index-24b5c249.js";import{r as g,o as a,a as l,b as e,d as h,w as p,e as c,L as I,x as n,O as T,S as r,B as m,K as f,v as N,C as A,U as B,W as C}from"./calendar.esm-ab6b2a00.js";import{_ as F,a as U,b as j}from"./bank-step3-gray-2926e711.js";const M="/starcreated-cms/assets/approve-step1-c4235035.svg",H="/starcreated-cms/assets/approve-step1-gray-4aeaecdf.svg",z="/starcreated-cms/assets/approve-step2-0fac3fa2.svg",y="/starcreated-cms/assets/img-id-2-77b19e35.png",V="/starcreated-cms/assets/img-id-1-de801189.png",v="https://stage.westar-cms.com/v1/realname/info",q={name:"CheckIdInfoView",props:{realNameId:{type:String}},computed:{apiinfo(){return this.$route.params.realNameId},isPassBtnDisabled(){return Object.values(this.checkedNames).some(d=>d!==!0)},isUnpassBtnDisabled(){return Object.values(this.checkedNames).every(d=>d==!0)}},components:{TopHeader:w,Sidebar:D},data(){return{checkedNames:{userNameValid:"",birthdayValid:"",idNumberValid:"",issueDateValid:"",issueTypeValid:"",issueAreaValid:"",frontImageValid:"",backImageValid:""},idListInfo:[],filteredList:[],statusText:{finish:"已認證",fail:"認證失敗"},realNameStateDone:"",realNameState:"finish",userInfo:{realNameId:"",realNameState:"",errorItems:{userName:"",birthday:"",idNumber:"",issueDate:"",issueType:"",issueArea:"",frontImage:"",backImage:""}},isLoading:!1}},mounted(){this.getMembers()},methods:{getMembers(){const d=this.$route.params.realNameId;this.$http.get(`https://stage.westar-cms.com/v1/realname/info?realNameId=${d}`).then(i=>{this.idListInfo=i.data.data,this.realNameStateDone=i.data.data.realNameState,this.userInfo=this.idListInfo,this.userInfo.realNameId=this.$route.params.realNameId,this.idListInfo.realNameState==="finish"?["userNameValid","birthdayValid","idNumberValid","issueDateValid","issueTypeValid","issueAreaValid","frontImageValid","backImageValid"].forEach(u=>{this.checkedNames[u]=!0}):["userNameValid","birthdayValid","idNumberValid","issueDateValid","issueTypeValid","issueAreaValid","frontImageValid","backImageValid"].forEach(u=>{this.checkedNames[u]=!1}),console.log(i.data.data)}),console.log(`api+?realNameId=${d}`)},passIdinfo(){const d=this;d.isLoading=!0,this.isPassBtnDisabled,this.$http.post(v,{realNameId:this.$route.params.realNameId,realNameState:"finish",errorItems:{userName:!this.checkedNames.userNameValid,birthday:!this.checkedNames.birthdayValid,idNumber:!this.checkedNames.idNumberValid,issueDate:!this.checkedNames.issueDateValid,issueType:!this.checkedNames.issueTypeValid,issueArea:!this.checkedNames.issueAreaValid,frontImage:!this.checkedNames.frontImageValid,backImage:!this.checkedNames.backImageValid}}).then(i=>{(this.userInfo.realNameState="finish")&&(this.$swal({title:"通過審核",icon:"success",showConfirmButton:!1,timer:1500}),window.location.reload()),console.log(i.data.result)})},unpassIdinfo(){const d=this.userInfo;this.$http.post(v,{realNameId:this.$route.params.realNameId,realNameState:"fail",errorItems:{userName:!this.checkedNames.userNameValid,birthday:!this.checkedNames.birthdayValid,idNumber:!this.checkedNames.idNumberValid,issueDate:!this.checkedNames.issueDateValid,issueType:!this.checkedNames.issueTypeValid,issueArea:!this.checkedNames.issueAreaValid,frontImage:!this.checkedNames.frontImageValid,backImage:!this.checkedNames.backImageValid}}).then(i=>{console.log(i.data.result),this.$swal({title:"未通過審核",icon:"warning",showConfirmButton:!1,timer:1500}),window.location.reload()}),console.log(d.errorItems)},isAllRequiredFieldsValid(){if(!this.realNameId)return!1;const d=[this.userNameValid,this.birthdayValid,this.idNumberValid,this.issueDateValid,this.issueTypeValid,this.issueAreaValid,this.frontImageValid,this.backImageValid];return console.log(isAllRequiredFieldsValid),d.every(i=>i===!0)},errorItems(){return{userName:!this.userNameValid,birthday:!this.birthdayValid,idNumber:!this.idNumberValid,issueDate:!this.issueDateValid,issueType:!this.issueTypeValid,issueArea:!this.issueAreaValid,frontImage:!this.frontImageValid,backImage:!this.backImageValid}}}},t=d=>(B("data-v-e1f223fa"),d=d(),C(),d),P={class:"wrapper"},E={class:"page-content-wrapper"},O={class:"container-fluid"},R={class:"row"},K={class:"col-lg-12"},W={class:"bg-light pt-2 pb-2 rounded","aria-label":"breadcrumb"},G={class:"breadcrumb d-flex align-items-center mb-0 px-2"},J=t(()=>e("li",{class:"breadcrumb-item active","aria-current":"page"}," 實名認證 ",-1)),Q={class:"d-flex justify-content-between align-items-center mb-2 mt-4"},X=t(()=>e("h2",{class:"text-primary fs-3 fw-bold"},"實名認證",-1)),Y={class:"list-unstyled d-flex justify-content-center align-items-center align-self-center fw-bold"},Z={key:0,class:"text-primary"},$=t(()=>e("span",null,[e("img",{class:"me-1",src:M,alt:"approve-step1"})],-1)),ee=t(()=>e("i",{class:"bi bi-chevron-right me-2"},null,-1)),se={key:1,class:"text-gray"},ie=t(()=>e("span",null,[e("img",{class:"me-1",src:H,alt:"approve-step1"})],-1)),te=t(()=>e("i",{class:"bi bi-chevron-right me-2"},null,-1)),ae={key:2,class:"text-primary"},le=t(()=>e("span",null,[e("img",{class:"me-1",src:z,alt:"approve-step2"})],-1)),oe=t(()=>e("i",{class:"bi bi-chevron-right me-2"},null,-1)),de={key:3,class:"text-gray"},ce=t(()=>e("span",null,[e("img",{class:"me-1",src:F,alt:"approve-step2"})],-1)),ne=t(()=>e("i",{class:"bi bi-chevron-right me-2"},null,-1)),re={key:4,class:"text-primary"},me=t(()=>e("span",null,[e("img",{class:"me-1",src:U,alt:"bank-step3"})],-1)),he={key:5,class:"text-gray"},fe=t(()=>e("span",null,[e("img",{class:"me-1",src:j,alt:"bank-step3"})],-1)),be={key:0,class:"alert bg-success mt-4 mb-4 pb-0 text-dark fw-medium",role:"alert"},ue=t(()=>e("p",null,[e("i",{class:"bi bi-check-circle-fill me-2"}),c("已完成實名認證")],-1)),_e=[ue],pe={key:1,class:"alert bg-danger mt-4 mb-4 pb-0 text-light fw-medium",role:"alert"},ge=t(()=>e("p",null,[e("i",{class:"bi bi-exclamation-triangle-fill me-2"}),c(" 身份證與實名認證資料不相符，待用戶重新上傳身分證照片 ")],-1)),ke=[ge],Ie={class:"mb-4"},Ne={class:"fs-6 border border-1 rounded-4 pt-4"},ve={class:"d-flex align-items-center align-items-sm-start pb-4 flex-column flex-lg-row p-2"},ye={class:"col-12 col-lg-4 mb-2"},Ve={class:"d-flex"},Le=t(()=>e("label",{for:"userName",class:"col-auto col-form-label me-2 ms-1"},"暱稱",-1)),Se=["value"],xe={class:"col-12 col-lg-4 mb-2"},we={class:"d-flex"},De=t(()=>e("label",{for:"starNumber",class:"col-auto col-form-label me-2 ms-1"},"星行號",-1)),Te=["value"],Ae={class:"col-12 col-lg-4 mb-2"},Be={class:"d-flex"},Ce=t(()=>e("label",{for:"specificSizeSelect",class:"col-auto col-form-label me-2 ms-1"},"實名認證",-1)),Fe={key:0,type:"text",id:"specificSizeSelect",class:"form-control","aria-describedby":"passwordHelpInline",value:"已認證",disabled:""},Ue={key:1,type:"text",id:"specificSizeSelect",class:"form-control","aria-describedby":"passwordHelpInline",value:"認證失敗",disabled:""},je={key:2,type:"text",id:"specificSizeSelect",class:"form-control","aria-describedby":"passwordHelpInline",value:"未認證",disabled:""},Me=t(()=>e("option",{disabled:"",value:" ",class:"text-gray-500"}," 選擇類型 ",-1)),He=t(()=>e("option",{value:"finish"},"已認證",-1)),ze=t(()=>e("option",{value:"review"},"未認證",-1)),qe=t(()=>e("option",{value:"fail"},"認證失敗",-1)),Pe=[Me,He,ze,qe],Ee=t(()=>e("div",{class:""},[e("div",{class:"d-flex justify-content-between align-items-center mb-2"},[e("div",{class:"col-12"},[e("h2",{class:"text-secondary mt-4 fs-5 fw-bold"},"實名認證資料")])])],-1)),Oe={class:"row mb-4"},Re=t(()=>e("div",{class:"col-12"},null,-1)),Ke={class:"col-12 col-md-6"},We={class:"fs-6 p-4 border border-0 shadow rounded-4"},Ge={class:"col-md-12 mb-3"},Je={class:"form-check"},Qe=["value","disabled"],Xe={class:"col-md-12 mb-3"},Ye={class:"form-check"},Ze=["value","disabled"],$e={class:"col-md-12 mb-3"},es={class:"form-check"},ss=["value","disabled"],is={class:"col-md-12 mb-3"},ts={class:"form-check"},as=["value","disabled"],ls={class:"col-md-12 mb-3"},os={class:"form-check"},ds=["value","disabled"],cs={class:"col-md-12 mb-3"},ns={class:"form-check"},rs=["value","disabled"],ms=t(()=>e("p",{class:"fs-6 mt-4 text-primary"},"*資料正確請在前面打勾",-1)),hs={class:"col-12 col-md-6"},fs=t(()=>e("div",{class:"col-12"},[e("h2",{class:"text-dark mt-4 fs-6 fw-bold"},"身分證")],-1)),bs={class:"row"},us={class:"col-12 col-lg-6"},_s={class:"img-id"},ps={key:0,src:y,alt:"img-404",class:"img-fluid"},gs=["src"],ks={class:"form-check d-flex justify-content-center"},Is=["disabled"],Ns={class:"col-12 col-lg-6"},vs={class:"img-id"},ys={key:0,src:V,alt:"img-404",class:"img-fluid"},Vs=["src"],Ls={class:"form-check d-flex justify-content-center"},Ss=["disabled"],xs={class:"col-12 mt-4"},ws={key:0,class:"d-flex justify-content-center flex-column flex-lg-row"},Ds=["disabled"],Ts=["disabled"],As={key:1,class:"d-flex justify-content-center flex-column flex-lg-row"},Bs={class:"modal fade",id:"idFrontmodal",tabindex:"-1","aria-labelledby":"idFrontmodalLabel","aria-hidden":"true"},Cs={class:"modal-dialog"},Fs={class:"modal-content border-0"},Us=t(()=>e("div",{class:"modal-header border-bottom-0"},[e("h1",{class:"modal-title fs-5",id:"idFrontmodalLabel"}),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),js={class:"modal-body text-center"},Ms={class:"img-id-modal"},Hs={key:0,src:y,alt:"img-404",class:"img-fluid"},zs=["src"],qs={class:"modal fade",id:"idBackmodal",tabindex:"-1","aria-labelledby":"idBackmodalLabel","aria-hidden":"true"},Ps={class:"modal-dialog"},Es={class:"modal-content border-0"},Os=t(()=>e("div",{class:"modal-header border-bottom-0"},[e("h1",{class:"modal-title fs-5",id:"idBackmodalLabel"}),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Rs={class:"modal-body text-center"},Ks={class:"img-id-modal"},Ws={key:0,src:V,alt:"img-404",class:"img-fluid"},Gs=["src"],Js={class:"modal fade",id:"passModal",tabindex:"-1","aria-labelledby":"passModalLabel","aria-hidden":"true"},Qs={class:"modal-dialog"},Xs={class:"modal-content"},Ys=t(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"passModalLabel"},"審核通過"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Zs=t(()=>e("div",{class:"modal-body text-center"},"確認要審核通過此筆訂單?",-1)),$s={class:"modal-footer d-flex justify-content-center"},ei=t(()=>e("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," 取消 ",-1)),si=["disabled"];function ii(d,i,k,u,s,b){const L=g("Sidebar"),S=g("TopHeader"),_=g("router-link");return a(),l(A,null,[e("div",P,[h(L),e("div",E,[e("div",O,[e("div",R,[e("section",K,[h(S),e("nav",W,[e("ol",G,[h(_,{to:"/dshboard",class:"breadcrumb-item"},{default:p(()=>[c("首頁")]),_:1}),h(_,{to:"/member-control",class:"breadcrumb-item"},{default:p(()=>[c("會員管理")]),_:1}),h(_,{to:"/member-check-id",class:"breadcrumb-item"},{default:p(()=>[c("實名認證列表")]),_:1}),J])]),e("div",Q,[X,e("ul",Y,[s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="review"?(a(),l("li",Z,[$,c(" 實名認證 "),ee])):(a(),l("li",se,[ie,c(" 實名認證 "),te])),s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="review"?(a(),l("li",ae,[le,c("人工審核 "),oe])):(a(),l("li",de,[ce,c("人工審核 "),ne])),s.idListInfo.realNameState==="finish"?(a(),l("li",re,[me,c(" 審核完成 ")])):(a(),l("li",he,[fe,c(" 審核完成 ")]))])]),s.idListInfo.realNameState==="finish"?(a(),l("div",be,_e)):I("",!0),s.idListInfo.realNameState==="fail"?(a(),l("div",pe,ke)):I("",!0),e("div",Ie,[e("div",Ne,[e("div",ve,[e("div",ye,[e("div",Ve,[Le,e("input",{type:"text",id:"userName",class:"form-control","aria-describedby":"passwordHelpInline",value:s.idListInfo.nickname,disabled:""},null,8,Se)])]),e("div",xe,[e("div",we,[De,e("input",{type:"text",id:"starNumber",class:"form-control","aria-describedby":"passwordHelpInline",value:s.idListInfo.userAppId,disabled:""},null,8,Te)])]),e("div",Ae,[e("div",Be,[Ce,s.idListInfo.realNameState==="finish"?(a(),l("input",Fe)):s.idListInfo.realNameState==="fail"?(a(),l("input",Ue)):s.idListInfo.realNameState==="review"?(a(),l("input",je)):n((a(),l("select",{key:3,class:"form-select",id:"specificSizeSelect","onUpdate:modelValue":i[0]||(i[0]=o=>s.idListInfo.realNameState=o)},Pe,512)),[[T,s.idListInfo.realNameState]])])])])])]),Ee,e("div",Oe,[Re,e("div",Ke,[e("div",We,[e("div",Ge,[e("div",Je,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.userName,id:"checkName","onUpdate:modelValue":i[1]||(i[1]=o=>s.checkedNames.userNameValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,Qe),[[r,s.checkedNames.userNameValid,void 0,{trim:!0}]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.userNameValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkName"}," 姓名: "+f(s.idListInfo.userName),3)])]),e("div",Xe,[e("div",Ye,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.birthday,id:"checkDay","onUpdate:modelValue":i[2]||(i[2]=o=>s.checkedNames.birthdayValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,Ze),[[r,s.checkedNames.birthdayValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.birthdayValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkDay"}," 出生年/月/日: "+f(s.idListInfo.birthday),3)])]),e("div",$e,[e("div",es,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.idNumber,id:"checkId","onUpdate:modelValue":i[3]||(i[3]=o=>s.checkedNames.idNumberValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,ss),[[r,s.checkedNames.idNumberValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.idNumberValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkId"}," 身分證字號: "+f(s.idListInfo.idNumber),3)])]),e("div",is,[e("div",ts,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.issueDate,id:"checkIdDay","onUpdate:modelValue":i[4]||(i[4]=o=>s.checkedNames.issueDateValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,as),[[r,s.checkedNames.issueDateValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.issueDateValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkIdDay"}," 發證日期: "+f(s.idListInfo.issueDate),3)])]),e("div",ls,[e("div",os,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.issueType,id:"checkIdType","onUpdate:modelValue":i[5]||(i[5]=o=>s.checkedNames.issueTypeValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,ds),[[r,s.checkedNames.issueTypeValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.issueTypeValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkIdType"}," 發證類型: "+f(s.idListInfo.issueType),3)])]),e("div",cs,[e("div",ns,[n(e("input",{class:"form-check-input",type:"checkbox",value:s.idListInfo.issueArea,id:"checkIdCity","onUpdate:modelValue":i[6]||(i[6]=o=>s.checkedNames.issueAreaValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,rs),[[r,s.checkedNames.issueAreaValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.issueAreaValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"checkIdCity"}," 發證地點: "+f(s.idListInfo.issueArea),3)])])]),ms]),e("div",hs,[fs,e("div",bs,[e("div",us,[e("div",_s,[s.idListInfo.frontImage===""?(a(),l("img",ps)):(a(),l("img",{key:1,"data-bs-toggle":"modal","data-bs-target":"#idFrontmodal",class:"img-fluid",src:s.idListInfo.frontImage,alt:"id-img-front"},null,8,gs))]),e("div",ks,[n(e("input",{class:"form-check-input me-2",type:"checkbox",id:"idImgFront","onUpdate:modelValue":i[7]||(i[7]=o=>s.checkedNames.frontImageValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,Is),[[r,s.checkedNames.frontImageValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.frontImageValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"idImgFront"}," 正面 ",2)])]),e("div",Ns,[e("div",vs,[s.idListInfo.backImage===""?(a(),l("img",ys)):(a(),l("img",{key:1,"data-bs-toggle":"modal","data-bs-target":"#idBackmodal",class:"img-fluid",src:s.idListInfo.backImage,alt:"id-img-back"},null,8,Vs))]),e("div",Ls,[n(e("input",{class:"form-check-input me-2",type:"checkbox",id:"idImgBack","onUpdate:modelValue":i[8]||(i[8]=o=>s.checkedNames.backImageValid=o),disabled:s.idListInfo.realNameState==="finish"||s.idListInfo.realNameState==="fail"},null,8,Ss),[[r,s.checkedNames.backImageValid]]),e("label",{class:m(["form-check-label",{changed:this.checkedNames.backImageValid===!1&&s.idListInfo.realNameState==="fail"}]),for:"idImgBack"}," 背面 ",2)])])])])]),e("div",xs,[s.idListInfo.realNameState==="review"?(a(),l("div",ws,[e("button",{type:"button",class:"btn btn-primary text-light mb-2 me-2","data-bs-toggle":"modal","data-bs-target":"#passModal",disabled:b.isPassBtnDisabled}," 審核通過 ",8,Ds),e("button",{type:"button",class:"btn btn-danger mb-2",onClick:i[9]||(i[9]=N(o=>b.unpassIdinfo(),["prevent"])),disabled:b.isUnpassBtnDisabled}," 未通過 ",8,Ts)])):(a(),l("div",As,[h(_,{to:"/member-check-id",class:"btn btn-primary text-light mb-2"},{default:p(()=>[c(" 返回 ")]),_:1})]))])])])])])]),e("div",Bs,[e("div",Cs,[e("div",Fs,[Us,e("div",js,[e("div",Ms,[s.idListInfo.frontImage===""?(a(),l("img",Hs)):(a(),l("img",{key:1,"data-bs-toggle":"modal","data-bs-target":"#idFrontmodal",class:"img-fluid",src:s.idListInfo.frontImage,alt:"id-img-front"},null,8,zs))])])])])]),e("div",qs,[e("div",Ps,[e("div",Es,[Os,e("div",Rs,[e("div",Ks,[s.idListInfo.backImage===""?(a(),l("img",Ws)):(a(),l("img",{key:1,"data-bs-toggle":"modal","data-bs-target":"#idFrontmodal",class:"img-fluid",src:s.idListInfo.backImage,alt:"id-img-back"},null,8,Gs))])])])])]),e("div",Js,[e("div",Qs,[e("div",Xs,[Ys,Zs,e("div",$s,[ei,e("button",{type:"button",class:"btn btn-primary text-white",disabled:!b.isAllRequiredFieldsValid,onClick:i[10]||(i[10]=N(o=>b.passIdinfo(),["prevent"])),"data-bs-dismiss":"modal"}," 確認 ",8,si)])])])])],64)}const oi=x(q,[["render",ii],["__scopeId","data-v-e1f223fa"]]);export{oi as default};
